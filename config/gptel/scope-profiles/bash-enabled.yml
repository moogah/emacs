# Bash-enabled profile: Extended bash tool access for system exploration
# Use case: System debugging, comprehensive file exploration, git workflows
# Security: Broad read access with controlled write access, extended command set

paths:
  read: ["/**"]  # Read access to entire filesystem (excluding deny list)
  write: ["${project_root}/**"]  # Write access limited to project directory
  deny: ["**/.git/**", "**/runtime/**", "**/.env", "**/node_modules/**"]

org_roam_patterns:
  subdirectory: ["**"]
  tags: ["*"]
  node_ids: ["*"]

bash_tools:
  categories:
    # Read-only commands: Safe exploration with extended command set
    # These commands only read data, cannot create or modify files
    # Path requirement: paths.read OR paths.write (write scope includes read)
    # Includes additional utilities: tree (directory visualization), file (type detection)
    read_only:
      commands: ["ls", "cat", "grep", "find", "tree", "head", "tail", "wc", "file", "git log", "git show", "git diff", "git status", "pwd", "which"]

    # Safe write: Non-destructive creation with echo support
    # These commands create new content but don't destroy existing files
    # Path requirement: paths.write ONLY (more restrictive than read_only)
    # Rationale:
    #   - mkdir: Creates directories (fails if exists)
    #   - touch: Creates empty files (safe timestamp updates)
    #   - echo: Write text via redirection (when combined with >)
    #   - git add/commit: Reversible version control operations
    safe_write:
      commands: ["mkdir", "touch", "echo", "git add", "git commit"]

    # Dangerous: Empty by default
    # Commands here require explicit user approval via request_scope_expansion
    dangerous:
      commands: []

  # Deny list: Commands never allowed, even with scope expansion
  # Blocked for security: destructive operations, system changes, privilege escalation
  # Categories:
  #   - File operations: rm, mv, cp, ln (overwrite/delete risk)
  #   - Permissions: chmod, chown (security boundary violations)
  #   - System control: sudo, shutdown, reboot, systemctl, launchctl
  #   - Task scheduling: crontab (automated execution risk)
  #   - Firewall: iptables, ufw, pfctl (network security changes)
  #   - User management: useradd, passwd (authentication changes)
  #   - Package managers: brew, apt, npm, pip (supply chain, writes outside project)
  deny:
    - "rm"
    - "mv"
    - "chmod"
    - "sudo"
    - "chown"
    - "dd"
    - "shutdown"
    - "reboot"
    - "halt"
    - "poweroff"
    - "init"
    # Task scheduling
    - "crontab"
    # Firewall commands
    - "iptables"
    - "ip6tables"
    - "ufw"
    - "firewall-cmd"
    - "pfctl"
    - "ipfw"
    - "nft"
    # System service commands
    - "systemctl"
    - "service"
    - "launchctl"
    - "sc"
    - "systemd"
    # User management
    - "useradd"
    - "userdel"
    - "usermod"
    - "passwd"
    - "chpasswd"
    - "adduser"
    - "deluser"
    - "groupadd"
    - "groupdel"
    - "groupmod"
    # Package managers (can install/modify packages, write files)
    - "brew"
    - "apt"
    - "apt-get"
    - "yum"
    - "dnf"
    - "pip"
    - "pip3"
    - "npm"
    - "yarn"
    - "pnpm"
    - "gem"
    - "cargo"
    - "composer"
    - "go"
